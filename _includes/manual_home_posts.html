{% assign per_page = 5 %}
{% assign posts_collection = site.posts %}
<div class="posts-grid">
  {% for post in posts_collection limit: per_page %}
    <article class="post-card">
      {% if post.header and post.header.teaser %}
        <a href="{{ post.url | relative_url }}" class="post-card__image-link">
          <img class="post-card__image" src="{{ post.header.teaser }}" alt="{{ post.title }}">
        </a>
      {% endif %}
      <div class="post-card__content">
        <h2 class="post-card__title"><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
        <div class="post-card__meta">{{ post.date | date: '%B %d, %Y' }}</div>
        {% if post.excerpt %}
          <div class="post-card__excerpt">{{ post.excerpt | strip_html | truncate: 180 }}</div>
        {% endif %}
        <div class="post-card__footer">
          {% if post.tags %}
            <div class="post-card__tags">
              {% for tag in post.tags %}
                <a class="tag" href="/tags/#{{ tag | slugify }}">{{ tag }}</a>
              {% endfor %}
            </div>
          {% endif %}
          <a class="read-more" href="{{ post.url | relative_url }}">Read more</a>
        </div>
      </div>
    </article>
  {% endfor %}
</div>
{% assign total_pages_float = site.posts.size | divided_by: per_page %}
{% assign remainder = site.posts.size | modulo: per_page %}
{% if remainder > 0 %}
  {% assign total_pages = total_pages_float | plus: 1 %}
{% else %}
  {% assign total_pages = total_pages_float %}
{% endif %}
{% if site.posts.size > per_page %}
<nav class="pagination" aria-label="Pagination">
  <span class="page-number">Page 1 of {{ total_pages }}</span>
  <a class="next" href="/page2/">Older &raquo;</a>
</nav>
{% endif %}
